/*!
FullCalendar Resource Timeline Plugin v4.4.2
Docs & License: https://fullcalendar.io/scheduler
(c) 2019 Adam Shaw
*/
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@fullcalendar/core"),require("@fullcalendar/timeline"),require("@fullcalendar/resource-common")):"function"==typeof define&&define.amd?define(["exports","@fullcalendar/core","@fullcalendar/timeline","@fullcalendar/resource-common"],t):t((e=e||self).FullCalendarResourceTimeline={},e.FullCalendar,e.FullCalendarTimeline,e.FullCalendarResourceCommon)}(this,(function(e,t,r,o){"use strict";var i="default"in r?r.default:r,n="default"in o?o.default:o,s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function l(e,t){function r(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var a=function(){return(a=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},c=function(e){function r(t,r,o,i){var n=e.call(this)||this;return n.isSizeDirty=!1,t.insertBefore(n.spreadsheetTr=document.createElement("tr"),r),o.insertBefore(n.timeAxisTr=document.createElement("tr"),i),n}return l(r,e),r.prototype.destroy=function(){t.removeElement(this.spreadsheetTr),t.removeElement(this.timeAxisTr),e.prototype.destroy.call(this)},r.prototype.updateSize=function(e){this.isSizeDirty=!1},r}(t.Component);function d(e,t){var r=e.classList;t?(r.remove("fc-icon-plus-square"),r.add("fc-icon-minus-square")):(r.remove("fc-icon-minus-square"),r.add("fc-icon-plus-square"))}function p(e,t){e.setAttribute("data-resource-id",t)}var u=function(e){function r(){var r=null!==e&&e.apply(this,arguments)||this;return r._renderCells=t.memoizeRendering(r.renderCells,r.unrenderCells),r._updateExpanderIcon=t.memoizeRendering(r.updateExpanderIcon,null,[r._renderCells]),r.onExpanderClick=function(e){var t=r.props;r.context.calendar.dispatch({type:"SET_RESOURCE_ENTITY_EXPANDED",id:t.id,isExpanded:!t.isExpanded})},r}return l(r,e),r.prototype.render=function(e){this._renderCells(e.group,e.spreadsheetColCnt),this._updateExpanderIcon(e.isExpanded),this.isSizeDirty=!0},r.prototype.destroy=function(){e.prototype.destroy.call(this),this._renderCells.unrender()},r.prototype.renderCells=function(e,r){var o=this.renderSpreadsheetContent(e);this.spreadsheetTr.appendChild(t.createElement("td",{className:"fc-divider",colSpan:r},this.spreadsheetHeightEl=t.createElement("div",null,o))),this.expanderIconEl=o.querySelector(".fc-icon"),this.expanderIconEl.parentElement.addEventListener("click",this.onExpanderClick),this.timeAxisTr.appendChild(t.createElement("td",{className:"fc-divider"},this.timeAxisHeightEl=document.createElement("div")))},r.prototype.unrenderCells=function(){this.spreadsheetTr.innerHTML="",this.timeAxisTr.innerHTML=""},r.prototype.renderSpreadsheetContent=function(e){var r=this.renderCellText(e),o=t.htmlToElement('<div class="fc-cell-content"><span class="fc-expander"><span class="fc-icon"></span></span><span class="fc-cell-text">'+(r?t.htmlEscape(r):"&nbsp;")+"</span></div>"),i=e.spec.render;return"function"==typeof i&&(o=i(o,e.value)||o),o},r.prototype.renderCellText=function(e){var t=e.value||"",r=e.spec.text;return"function"==typeof r&&(t=r(t)||t),t},r.prototype.getHeightEls=function(){return[this.spreadsheetHeightEl,this.timeAxisHeightEl]},r.prototype.updateExpanderIcon=function(e){d(this.expanderIconEl,e)},r}(c);u.addEqualityFuncs({group:o.isGroupsEqual});var h=function(e){function r(r){var o=e.call(this)||this;return o._renderRow=t.memoizeRendering(o.renderRow,o.unrenderRow),o._updateTrResourceId=t.memoizeRendering(p,null,[o._renderRow]),o._updateExpanderIcon=t.memoizeRendering(o.updateExpanderIcon,null,[o._renderRow]),o.onExpanderClick=function(e){var t=o.props;o.context.calendar.dispatch({type:"SET_RESOURCE_ENTITY_EXPANDED",id:t.id,isExpanded:!t.isExpanded})},o.tr=r,o}return l(r,e),r.prototype.render=function(e){this._renderRow(e.resource,e.rowSpans,e.depth,e.colSpecs),this._updateTrResourceId(this.tr,e.resource.id),this._updateExpanderIcon(e.hasChildren,e.isExpanded)},r.prototype.destroy=function(){e.prototype.destroy.call(this),this._renderRow.unrender()},r.prototype.renderRow=function(e,r,i,n){for(var s,l=this.context,a=l.calendar,c=l.view,d=l.theme,p=this.tr,u=o.buildResourceFields(e),h=0;h<n.length;h++){var f=n[h],m=r[h];if(0!==m){null==m&&(m=1);var g=void 0;g=f.field?u[f.field]:o.buildResourceTextFunc(f.text,a)(e);var v=t.htmlToElement('<div class="fc-cell-content">'+(f.isMain?y(i):"")+'<span class="fc-cell-text">'+(g?t.htmlEscape(g):"&nbsp;")+"</span></div>");"function"==typeof f.render&&(v=f.render(new o.ResourceApi(a,e),v)||v),m>1&&v.classList.add("fc-sticky");var S=t.createElement("td",{className:d.getClass("widgetContent"),rowspan:m},v);f.isMain&&(S.appendChild(this.heightEl=t.createElement("div",null,S.childNodes)),s=S),p.appendChild(S)}}this.expanderIconEl=p.querySelector(".fc-expander-space .fc-icon"),a.publiclyTrigger("resourceRender",[{resource:new o.ResourceApi(a,e),el:s,view:c}])},r.prototype.unrenderRow=function(){this.tr.innerHTML=""},r.prototype.updateExpanderIcon=function(e,t){var r,o=this.expanderIconEl,i=o.parentElement;o&&i&&(e?(i.addEventListener("click",this.onExpanderClick),i.classList.add("fc-expander"),d(o,t)):(i.removeEventListener("click",this.onExpanderClick),i.classList.remove("fc-expander"),(r=o.classList).remove("fc-icon-minus-square"),r.remove("fc-icon-plus-square")))},r}(t.Component);function y(e){for(var t="",r=0;r<e;r++)t+='<span class="fc-icon"></span>';return t+='<span class="fc-expander-space"><span class="fc-icon"></span></span>'}var f=function(e){function o(r,o,i,n,s){var l=e.call(this,r,o,i,n)||this;return l.renderSkeleton=t.memoizeRendering(l._renderSkeleton,l._unrenderSkeleton),l.updateTrResourceId=t.memoizeRendering(p),l.timeAxis=s,l}return l(o,e),o.prototype.render=function(e,t){this.renderSkeleton(t),this.spreadsheetRow.receiveProps({colSpecs:e.colSpecs,id:e.id,rowSpans:e.rowSpans,depth:e.depth,isExpanded:e.isExpanded,hasChildren:e.hasChildren,resource:e.resource},t),this.updateTrResourceId(this.timeAxisTr,e.resource.id),this.lane.receiveProps({dateProfile:e.dateProfile,nextDayThreshold:e.nextDayThreshold,businessHours:e.businessHours,eventStore:e.eventStore,eventUiBases:e.eventUiBases,dateSelection:e.dateSelection,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize},t),this.isSizeDirty=!0},o.prototype.destroy=function(){this.renderSkeleton.unrender(),e.prototype.destroy.call(this)},o.prototype._renderSkeleton=function(e){this.timeAxisTr.appendChild(this.cellEl=t.createElement("td",{className:e.theme.getClass("widgetContent")},this.innerContainerEl=document.createElement("div"))),this.spreadsheetRow=new h(this.spreadsheetTr),this.lane=new r.TimelineLane(this.innerContainerEl,this.innerContainerEl,this.timeAxis)},o.prototype._unrenderSkeleton=function(){this.spreadsheetRow.destroy(),this.lane.destroy(),t.removeElement(this.cellEl)},o.prototype.updateSize=function(t){e.prototype.updateSize.call(this,t),this.lane.updateSize(t)},o.prototype.getHeightEls=function(){return[this.spreadsheetRow.heightEl,this.innerContainerEl]},o}(c);f.addEqualityFuncs({rowSpans:t.isArraysEqual});var m=function(e){function r(r){var o=e.call(this)||this;return o.resizables=[],o.colWidths=[],o.emitter=new t.EmitterMixin,o.renderSkeleton=t.memoizeRendering(o._renderSkeleton,o._unrenderSkeleton),o.parentEl=r,o}return l(r,e),r.prototype.render=function(e,r){this.renderSkeleton(r);var o=r.theme,i=e.colSpecs,n="<colgroup>"+e.colTags+"</colgroup><tbody>";e.superHeaderText&&(n+='<tr class="fc-super"><th class="'+o.getClass("widgetHeader")+'" colspan="'+i.length+'"><div class="fc-cell-content"><span class="fc-cell-text">'+t.htmlEscape(e.superHeaderText)+"</span></div></th></tr>"),n+="<tr>";for(var s=0;s<i.length;s++){var l=i[s],a=s===i.length-1;n+='<th class="'+o.getClass("widgetHeader")+'"><div><div class="fc-cell-content">'+(l.isMain?'<span class="fc-expander-space"><span class="fc-icon"></span></span>':"")+'<span class="fc-cell-text">'+t.htmlEscape(l.labelText||"")+"</span></div>"+(a?"":'<div class="fc-col-resizer"></div>')+"</div></th>"}n+="</tr>",n+="</tbody>",this.tableEl.innerHTML=n,this.thEls=Array.prototype.slice.call(this.tableEl.querySelectorAll("th")),this.colEls=Array.prototype.slice.call(this.tableEl.querySelectorAll("col")),this.resizerEls=Array.prototype.slice.call(this.tableEl.querySelectorAll(".fc-col-resizer")),this.initColResizing()},r.prototype.destroy=function(){for(var t=0,r=this.resizables;t<r.length;t++){r[t].destroy()}this.renderSkeleton.unrender(),e.prototype.destroy.call(this)},r.prototype._renderSkeleton=function(e){this.parentEl.appendChild(this.tableEl=t.createElement("table",{className:e.theme.getClass("tableGrid")}))},r.prototype._unrenderSkeleton=function(){t.removeElement(this.tableEl)},r.prototype.initColResizing=function(){var e=this,t=this.context,r=t.calendar,o=t.isRtl,i=r.pluginSystem.hooks.elementDraggingImpl;i&&(this.resizables=this.resizerEls.map((function(t,r){var n,s=new i(t);return s.emitter.on("dragstart",(function(){"number"!=typeof(n=e.colWidths[r])&&(n=e.thEls[r].getBoundingClientRect().width)})),s.emitter.on("dragmove",(function(t){e.colWidths[r]=Math.max(n+t.deltaX*(o?-1:1),30),e.emitter.trigger("colwidthchange",e.colWidths)})),s.setAutoScrollEnabled(!1),s})))},r}(t.Component),g=function(e){function o(o,i){var n=e.call(this)||this;return n.renderSkeleton=t.memoizeRendering(n._renderSkeleton,n._unrenderSkeleton),n.renderCells=t.memoizeRendering(n._renderCells,n._unrenderCells,[n.renderSkeleton]),n.layout=new r.HeaderBodyLayout(o,i,"clipped-scroll"),n}return l(o,e),o.prototype.render=function(e,t){this.renderSkeleton(t),this.renderCells(e.superHeaderText,e.colSpecs)},o.prototype.destroy=function(){this.renderCells.unrender(),this.renderSkeleton.unrender(),this.layout.destroy(),e.prototype.destroy.call(this)},o.prototype._renderSkeleton=function(e){var r=this;this.layout.bodyScroller.enhancedScroll.canvas.contentEl.appendChild(this.bodyContainerEl=t.createElement("div",{className:"fc-rows"},"<table><colgroup /><tbody /></table>")),this.bodyColGroup=this.bodyContainerEl.querySelector("colgroup"),this.bodyTbody=this.bodyContainerEl.querySelector("tbody");var o=this.layout.headerScroller.enhancedScroll;this.header=new m(o.canvas.contentEl),this.header.emitter.on("colwidthchange",(function(e){r.applyColWidths(e)}))},o.prototype._unrenderSkeleton=function(){this.header.destroy()},o.prototype._renderCells=function(e,t){var r=this.renderColTags(t);this.header.receiveProps({superHeaderText:e,colSpecs:t,colTags:r},this.context),this.bodyColGroup.innerHTML=r,this.bodyColEls=Array.prototype.slice.call(this.bodyColGroup.querySelectorAll("col")),this.applyColWidths(t.map((function(e){return e.width})))},o.prototype._unrenderCells=function(){this.bodyColGroup.innerHTML=""},o.prototype.renderColTags=function(e){for(var t="",r=0,o=e;r<o.length;r++){o[r].isMain?t+='<col class="fc-main-col"/>':t+="<col/>"}return t},o.prototype.updateSize=function(e,t,r){this.layout.setHeight(t,r)},o.prototype.applyColWidths=function(e){var t=this;e.forEach((function(e,r){var o,i=t.header.colEls[r],n=t.bodyColEls[r];"number"==typeof e?o=e+"px":null==typeof e&&(o=""),i.style.width=n.style.width=o}))},o}(t.Component),v=function(e){function i(){var r=null!==e&&e.apply(this,arguments)||this;return r.isStickyScrollDirty=!1,r.rowNodes=[],r.rowComponents=[],r.rowComponentsById={},r.resourceAreaWidthDraggings=[],r.splitter=new o.ResourceSplitter,r.renderSkeleton=t.memoizeRendering(r._renderSkeleton,r._unrenderSkeleton),r.hasResourceBusinessHours=t.memoize(S),r.buildRowNodes=t.memoize(o.buildRowNodes),r.hasNesting=t.memoize(x),r.updateHasNesting=t.memoizeRendering(r._updateHasNesting),r.startInteractive=t.memoizeRendering(r._startInteractive,r._stopInteractive),r}return l(i,e),i.prototype._startInteractive=function(e){this.context.calendar.registerInteractiveComponent(this,{el:e})},i.prototype._stopInteractive=function(){this.context.calendar.unregisterInteractiveComponent(this)},i.prototype.render=function(t,r){e.prototype.render.call(this,t,r),this.renderSkeleton(r);var o=this.splitter.splitProps(t),i=this.hasResourceBusinessHours(t.resourceStore);this.spreadsheet.receiveProps({superHeaderText:this.superHeaderText,colSpecs:this.colSpecs},r),this.timeAxis.receiveProps({dateProfileGenerator:t.dateProfileGenerator,dateProfile:t.dateProfile},r),this.startInteractive(this.timeAxis.slats.el),this.lane.receiveProps(a({},o[""],{dateProfile:t.dateProfile,nextDayThreshold:r.nextDayThreshold,businessHours:i?null:t.businessHours}),r);var n=this.buildRowNodes(t.resourceStore,this.groupSpecs,this.orderSpecs,this.isVGrouping,t.resourceEntityExpansions,r.options.resourcesInitiallyExpanded);this.updateHasNesting(this.hasNesting(n)),this.diffRows(n),this.updateRowProps(t.dateProfile,i?t.businessHours:null,o),this.startNowIndicator(t.dateProfile,t.dateProfileGenerator)},i.prototype._renderSkeleton=function(e){var i=e.options,n=e.calendar,s=i.resourceColumns||[],l=i.resourceLabelText,a=null;s.length?a=l:s.push({labelText:l||"Resources",text:o.buildResourceTextFunc(i.resourceText,n)});for(var c=[],d=[],p=[],u=!1,h=!1,y=0,f=s;y<f.length;y++){var m=f[y];m.group?d.push(m):c.push(m)}if(c[0].isMain=!0,d.length)p=d,u=!0;else{var v=i.resourceGroupField;v&&(h=!0,p.push({field:v,text:i.resourceGroupText,render:i.resourceGroupRender}))}for(var S=[],x=0,E=t.parseFieldSpecs(i.resourceOrder);x<E.length;x++){for(var C=E[x],w=!1,b=0,R=p;b<R.length;b++){var T=R[b];if(T.field===C.field){T.order=C.order,w=!0;break}}w||S.push(C)}this.superHeaderText=a,this.isVGrouping=u,this.isHGrouping=h,this.groupSpecs=p,this.colSpecs=d.concat(c),this.orderSpecs=S,this.el.classList.add("fc-timeline"),!1===i.eventOverlap&&this.el.classList.add("fc-no-overlap"),this.el.innerHTML=this.renderSkeletonHtml(),this.resourceAreaHeadEl=this.el.querySelector("thead .fc-resource-area"),this.setResourceAreaWidth(i.resourceAreaWidth),this.initResourceAreaWidthDragging(),this.miscHeight=this.el.getBoundingClientRect().height,this.spreadsheet=new g(this.resourceAreaHeadEl,this.el.querySelector("tbody .fc-resource-area")),this.timeAxis=new r.TimeAxis(this.el.querySelector("thead .fc-time-area"),this.el.querySelector("tbody .fc-time-area"));var A=t.createElement("div",{className:"fc-rows"},"<table><tbody /></table>");this.timeAxis.layout.bodyScroller.enhancedScroll.canvas.contentEl.appendChild(A),this.timeAxisTbody=A.querySelector("tbody"),this.lane=new r.TimelineLane(null,this.timeAxis.layout.bodyScroller.enhancedScroll.canvas.bgEl,this.timeAxis),this.bodyScrollJoiner=new r.ScrollJoiner("vertical",[this.spreadsheet.layout.bodyScroller,this.timeAxis.layout.bodyScroller]),this.spreadsheetBodyStickyScroller=new r.StickyScroller(this.spreadsheet.layout.bodyScroller.enhancedScroll,e.isRtl,!0)},i.prototype._unrenderSkeleton=function(e){this.startInteractive.unrender(),this.destroyRows(),this.spreadsheet.destroy(),this.timeAxis.destroy(),this.lane.destroy(),this.spreadsheetBodyStickyScroller.destroy(),this.el.classList.remove("fc-timeline"),this.el.classList.remove("fc-no-overlap")},i.prototype.renderSkeletonHtml=function(){var e=this.context.theme;return'<table class="'+e.getClass("tableGrid")+'"> <thead class="fc-head"> <tr> <td class="fc-resource-area '+e.getClass("widgetHeader")+'"></td> <td class="fc-divider fc-col-resizer '+e.getClass("widgetHeader")+'"></td> <td class="fc-time-area '+e.getClass("widgetHeader")+'"></td> </tr> </thead> <tbody class="fc-body"> <tr> <td class="fc-resource-area '+e.getClass("widgetContent")+'"></td> <td class="fc-divider fc-col-resizer '+e.getClass("widgetHeader")+'"></td> <td class="fc-time-area '+e.getClass("widgetContent")+'"></td> </tr> </tbody> </table>'},i.prototype._updateHasNesting=function(e){var t=this.el.classList;e?t.remove("fc-flat"):t.add("fc-flat")},i.prototype.diffRows=function(e){var t=this.rowNodes,r=t.length,o={},i=0,n=0;for(i=0;i<r;i++)o[t[i].id]=i;for(i=0,n=0;n<e.length;n++){var s=e[n],l=o[s.id];null!=l&&l>=i?(this.removeRows(n,l-i,t),i=l+1):this.addRow(n,s)}this.removeRows(n,r-i,t),this.rowNodes=e},i.prototype.addRow=function(e,t){var r=this.rowComponents,o=this.rowComponentsById,i=r[e],n=this.buildChildComponent(t,this.spreadsheet.bodyTbody,i?i.spreadsheetTr:null,this.timeAxisTbody,i?i.timeAxisTr:null);r.splice(e,0,n),o[t.id]=n},i.prototype.removeRows=function(e,t,r){if(t){for(var o=this.rowComponents,i=this.rowComponentsById,n=0;n<t;n++){o[e+n].destroy(),delete i[r[n].id]}o.splice(e,t)}},i.prototype.buildChildComponent=function(e,t,r,o,i){return e.group?new u(t,r,o,i):e.resource?new f(t,r,o,i,this.timeAxis):void 0},i.prototype.updateRowProps=function(e,t,r){for(var o=this.rowNodes,i=this.rowComponents,n=this.context,s=0;s<o.length;s++){var l=o[s],c=i[s];if(l.group)c.receiveProps({spreadsheetColCnt:this.colSpecs.length,id:l.id,isExpanded:l.isExpanded,group:l.group},n);else{var d=l.resource;c.receiveProps(a({},r[d.id],{dateProfile:e,nextDayThreshold:n.nextDayThreshold,businessHours:d.businessHours||t,colSpecs:this.colSpecs,id:l.id,rowSpans:l.rowSpans,depth:l.depth,isExpanded:l.isExpanded,hasChildren:l.hasChildren,resource:l.resource}),n)}}},i.prototype.updateSize=function(e,r,o){var i=this.context.calendar,n=e||i.isViewUpdated||i.isDatesUpdated||i.isEventsUpdated;n&&this.syncHeadHeights(),this.timeAxis.updateSize(e,r-this.miscHeight,o),this.spreadsheet.updateSize(e,r-this.miscHeight,o);var s=this.updateRowSizes(e);this.lane.updateSize(e),(n||s)&&(this.bodyScrollJoiner.update(),this.timeAxis.layout.scrollJoiner.update(),this.rowPositions=new t.PositionCache(this.timeAxis.slats.el,this.rowComponents.map((function(e){return e.timeAxisTr})),!1,!0),this.rowPositions.build(),this.isStickyScrollDirty=!0)},i.prototype.syncHeadHeights=function(){var e=this.spreadsheet.header.tableEl,t=this.timeAxis.header.tableEl;e.style.height="",t.style.height="";var r=Math.max(e.getBoundingClientRect().height,t.getBoundingClientRect().height);e.style.height=t.style.height=r+"px"},i.prototype.updateRowSizes=function(e){var t=this.rowComponents;e||(t=t.filter((function(e){return e.isSizeDirty})));for(var r=t.map((function(e){return e.getHeightEls()})),o=0,i=r;o<i.length;o++)for(var n=0,s=i[o];n<s.length;n++){s[n].style.height=""}for(var l=0,a=t;l<a.length;l++){a[l].updateSize(e)}for(var c=r.map((function(e){for(var t=null,r=0,o=e;r<o.length;r++){var i=o[r].getBoundingClientRect().height;(null===t||i>t)&&(t=i)}return t})),d=0;d<r.length;d++)for(var p=0,u=r[d];p<u.length;p++){u[p].style.height=c[d]+"px"}return t.length},i.prototype.destroyRows=function(){for(var e=0,t=this.rowComponents;e<t.length;e++){t[e].destroy()}this.rowNodes=[],this.rowComponents=[]},i.prototype.destroy=function(){for(var t=0,r=this.resourceAreaWidthDraggings;t<r.length;t++){r[t].destroy()}this.renderSkeleton.unrender(),e.prototype.destroy.call(this)},i.prototype.getNowIndicatorUnit=function(e,t){return this.timeAxis.getNowIndicatorUnit(e,t)},i.prototype.renderNowIndicator=function(e){this.timeAxis.renderNowIndicator(e)},i.prototype.unrenderNowIndicator=function(){this.timeAxis.unrenderNowIndicator()},i.prototype.queryScroll=function(){var t=e.prototype.queryScroll.call(this);return this.props.resourceStore&&a(t,this.queryResourceScroll()),t},i.prototype.applyScroll=function(t,r){e.prototype.applyScroll.call(this,t,r),this.props.resourceStore&&this.applyResourceScroll(t),(r||this.isStickyScrollDirty)&&(this.isStickyScrollDirty=!1,this.spreadsheetBodyStickyScroller.updateSize(),this.timeAxis.updateStickyScrollers())},i.prototype.computeDateScroll=function(e){return this.timeAxis.computeDateScroll(e)},i.prototype.queryDateScroll=function(){return this.timeAxis.queryDateScroll()},i.prototype.applyDateScroll=function(e){this.timeAxis.applyDateScroll(e)},i.prototype.queryResourceScroll=function(){for(var e=this.rowComponents,t=this.rowNodes,r={},o=this.timeAxis.layout.bodyScroller.el.getBoundingClientRect().top,i=0;i<e.length;i++){var n=e[i],s=t[i],l=n.timeAxisTr.getBoundingClientRect().bottom;if(l>o){r.rowId=s.id,r.bottom=l-o;break}}return r},i.prototype.applyResourceScroll=function(e){var t=e.forcedRowId||e.rowId;if(t){var r=this.rowComponentsById[t];if(r){var o=r.timeAxisTr;if(o){var i=this.timeAxis.layout.bodyScroller.enhancedScroll.canvas.el.getBoundingClientRect().top,n=o.getBoundingClientRect(),s=(e.forcedRowId?n.top:n.bottom-e.bottom)-i;this.timeAxis.layout.bodyScroller.enhancedScroll.setScrollTop(s),this.spreadsheet.layout.bodyScroller.enhancedScroll.setScrollTop(s)}}}},i.prototype.buildPositionCaches=function(){this.timeAxis.slats.updateSize(),this.rowPositions.build()},i.prototype.queryHit=function(e,t){var r=this.rowPositions,o=this.timeAxis.slats,i=r.topToIndex(t);if(null!=i){var n=this.rowNodes[i].resource;if(n){var s=o.positionToHit(e);if(s)return{component:this,dateSpan:{range:s.dateSpan.range,allDay:s.dateSpan.allDay,resourceId:n.id},rect:{left:s.left,right:s.right,top:r.tops[i],bottom:r.bottoms[i]},dayEl:s.dayEl,layer:0}}}},i.prototype.setResourceAreaWidth=function(e){this.resourceAreaWidth=e,t.applyStyleProp(this.resourceAreaHeadEl,"width",e||"")},i.prototype.initResourceAreaWidthDragging=function(){var e=this,t=this.context,r=t.calendar,o=t.isRtl,i=Array.prototype.slice.call(this.el.querySelectorAll(".fc-col-resizer")),n=r.pluginSystem.hooks.elementDraggingImpl;n&&(this.resourceAreaWidthDraggings=i.map((function(t){var r,i,s=new n(t);return s.emitter.on("dragstart",(function(){"number"!=typeof(r=e.resourceAreaWidth)&&(r=e.resourceAreaHeadEl.getBoundingClientRect().width),i=e.el.getBoundingClientRect().width})),s.emitter.on("dragmove",(function(t){var n=r+t.deltaX*(o?-1:1);n=Math.max(n,30),n=Math.min(n,i-30),e.setResourceAreaWidth(n)})),s.setAutoScrollEnabled(!1),s})))},i.needsResourceData=!0,i}(t.View);function S(e){for(var t in e){if(e[t].businessHours)return!0}return!1}function x(e){for(var t=0,r=e;t<r.length;t++){var o=r[t];if(o.group)return!0;if(o.resource&&o.hasChildren)return!0}return!1}var E=t.createPlugin({deps:[n,i],defaultView:"resourceTimelineDay",views:{resourceTimeline:{class:v,resourceAreaWidth:"30%",resourcesInitiallyExpanded:!0,eventResizableFromStart:!0},resourceTimelineDay:{type:"resourceTimeline",duration:{days:1}},resourceTimelineWeek:{type:"resourceTimeline",duration:{weeks:1}},resourceTimelineMonth:{type:"resourceTimeline",duration:{months:1}},resourceTimelineYear:{type:"resourceTimeline",duration:{years:1}}}});e.ResourceTimelineView=v,e.default=E,Object.defineProperty(e,"__esModule",{value:!0})}));